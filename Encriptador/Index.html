<!DOCTYPE html>
<html
	lang="es"
	id="html">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width" />
		<title>Challenge ONE Encriptador de Texto</title>
		<link
			rel="stylesheet"
			href="reset.css" />
		<link
			rel="stylesheet"
			href="style.css" />
		<link
			href="https://fonts.googleapis.com/css2?family=Inter&display=swap"
			rel="stylesheet" />
	</head>

	<body onload="screen768()">
		<main id="main">
			<div class="textIntro">
				<textarea
					name="textIntro"
					id="textIntro"
					required
					placeholder=" Ingrese el texto aquí "></textarea>
			</div>
			<div id="divresultado">
				<textarea
					readonly
					name="resultado"
					id="resultado"></textarea>
			</div>
			<div>
				<img
					id="muneco"
					src="img/Muneco.jpg"
					alt="muñeco" />
			</div>
			<div id="cajaMensaje">
				<textarea
					name="mensaje"
					id="mensajetexto1">
Ningún mensaje fue encontrado</textarea
				>
				<textarea
					name="mensaje"
					id="mensajetexto2">
Ingresa el texto que desees encriptar o desencriptar.</textarea
				>
			</div>
			<div id="buttons">
				<button
					onclick="desencriptar()"
					id="desencriptar"
					class="btn-desencriptar">
					Desencriptar
				</button>
				<button
					onclick="encriptar()"
					id="encriptar"
					class="btn-encriptar">
					Encriptar
				</button>
			</div>
			<div id="btncopiar">
				<button
					onclick="cortar()"
					id="copiar"
					class="btn-copiar">
					Copiar
				</button>
			</div>
		</main>

		<footer>
			<p
				class="copyrigth"
				id="copyrigth">
				&copy; Copyrigth Luis Andrade - 2023
			</p>
		</footer>
	</body>

	<script>
		const text = document.getElementById("textIntro");
		const image = document.getElementById("muneco");
		const cajamensaje = document.getElementById("cajaMensaje");
		const anchoPantalla = window.innerWidth;

		function screen768() {
			let resultado = document.getElementById("resultado").value;

			if (window.matchMedia("(min-width: 375px) and (max-width: 768px)").matches) {
				image.style.display = "none";

				if (resultado !== "") {
					document.getElementById("divresultado").style.height = "140px";
					document.getElementById("btncopiar").style.display = "contents";
					document.getElementById("copyrigth").style.top = "1384px";
					document.getElementById("html").style.height = "1384px";
				} else {
					document.getElementById("btncopiar").style.display = "none";
					document.getElementById("divresultado").style.height = "70px";
					document.getElementById("copyrigth").style.top = "1174px";
					document.getElementById("html").style.height = "1174px";
				}
			} else {
				if (window.matchMedia("(max-width: 375px)").matches) {
					image.style.display = "none";
					if (resultado !== "") {
						document.getElementById("divresultado").style.height = "595px";
						// document.getElementById("divresultado").style.top = "1128px";
						document.getElementById("btncopiar").style.display = "contents";
						document.getElementById("copyrigth").style.top = "1328px";
						document.getElementById("main").style.height = "1328px";
					} else {
						document.getElementById("btncopiar").style.display = "none";
						document.getElementById("divresultado").style.height = "186px";
						document.getElementById("divresultado").style.top = "707px";
						document.getElementById("copyrigth").style.top = "933px";
						document.getElementById("html").style.height = "933px";
					}
				}
			}
		}

		function encriptar() {
			let resultado = text.value.replace(/e/g, "enter").replace(/i/g, "imes").replace(/a/g, "ai").replace(/o/g, "ober").replace(/u/g, "ufat");

			document.getElementById("resultado").value = resultado;

			if (resultado !== "") {
				image.style.display = "none";
				cajamensaje.style.display = "none";
			} else {
				image.style.display = "block";
				cajamensaje.style.display = "block";
			}

			text.value = "";
			screen768();
		}
		function desencriptar() {
			let resultado = text.value.replace(/enter/g, "e").replace(/imes/g, "i").replace(/ai/g, "a").replace(/ober/g, "o").replace(/ufat/g, "u");

			document.getElementById("resultado").value = resultado;

			if (resultado !== "") {
				image.style.display = "none";
				cajamensaje.style.display = "none";
			} else {
				image.style.display = "block";
				cajamensaje.style.display = "block";
			}

			text.value = "";
			screen768();
		}

		function cortar() {
			var resultado = document.getElementById("resultado");

			resultado.select();
			document.execCommand("copy");
			resultado.value = "";
			image.style.display = "block";
			cajamensaje.style.display = "block";

			screen768();
		}
	</script>
</html>
